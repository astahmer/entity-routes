---
title: Route Scope
---

import { DocAlert } from "@/components";

Let's start by defining what we call a **route scope**.

It is a unique combination of 2 elements :

-   The route main [entity](https://typeorm.io/#/entities/what-is-entity)
-   An [operation](operations), for example any of the [C|R|U|D operations](/definitions#groupsoperation)

Each route scope will have unique responses schema generated from the mapping, itself made from the list of exposed
properties on that scope.

## Examples

These are the routes generated from the [Quick start example](../getting-started/quick-start) :

| Verb   | Path                                  | Entity  | Operation |
| ------ | ------------------------------------- | ------- | --------- |
| POST   | /users                                | User    | create    |
| POST   | /users/mapping                        | User    | create    |
| PUT    | /users/:id(\d+)                       | User    | update    |
| PUT    | /users/:id(\d+)/mapping               | User    | update    |
| GET    | /users/:id(\d+)                       | User    | get       |
| GET    | /users/:id(\d+)/mapping               | User    | get       |
| GET    | /users                                | User    | list      |
| GET    | /users/mapping                        | User    | list      |
| DELETE | /users/:id(\d+)                       | User    | delete    |
| POST   | /users/:UserId(\d+)/articles          | Article | create    |
| GET    | /users/:UserId(\d+)/articles          | Article | list      |
| DELETE | /users/:UserId(\d+)/articles/:id(\d+) | Article | delete    |

<DocAlert status="info" mt="20px">

The route main entity for subresources routes is its relation entity, here it is `Article` and not `User`.

</DocAlert>

---

## Exposing properties

With the [@Groups](/definitions#groups) decorator you can expose any property (or method [/docref computedmethod]), from
any entity in the route scope of your choice.

What that means is that you can for example have a different mapping for the `User` **creation** route and the `User`
**update** route. More on that [later](groups).

_Of course this also means that you can have differents constraints for each route scope._ TODO Validator docref

## Inferred Mapping

The **mapping** is a description of every properties exposed through the [`@Groups`](/definitions#groups) decorator for
a specific **route scope**.

A route mapping endpoint is auto-generated for every basic [**operations**](/entity-routes/operations/) and accessible
by adding _"/mapping"_ to the path of the route, the same HTTP verb as the [**operation**](/entity-routes/operations/)
it describes is used.

This mapping route will give you the response schema expected on the actual route it describes.

<DocAlert status="info" mt="20px">

There is a `pretty` query parameter available to make it less verbose, it looks like a GraphQL request body, as you can
see below.

</DocAlert>

TODO

## Scoped Validation

TODO
